---
id: labels-and-icons
title: ラベル & アイコン
---

このページでは、モバイルアプリ内でのテーブル、フィールドおよびリレーションの表示プロパティが定義できます。

![ラベル & アイコンセクション](img/Labels-&-icons-section-4D-for-iOS.png)

初期状態では、デフォルトのプロパティが設定されています。 プロパティを変更するには、変更する要素を選択し、カラム内に新しい適切な値を入力します。

テーブル・フィールド・リレーションに対して同じプロパティが設定できます。 さらに、フィールドおよびリレーションに対してフォーマットが定義できます。

生成されたアプリ内のテンプレートによって、詳細フォームおよびリストフォーム内でこれらの要素は表示されます。


## アイコン

モバイルアプリのテンプレートにおいてアイコン表示が必要なときに、フィールド/要素に関連して表示されるアイコンを設定します。

:::info

リレーションフィールドについては、アイコンは **リレーション** ボタンの左に表示され、このボタンを押すとリレートテーブルを開くことができます。

:::

4Dモバイルエディターでは、あらゆる用途に応えるため、大量のアイコンのライブラリーを提供しています。 このライブラリーには、ビジネス、金融、教育、行政、健康、産業、不動産、サービスなどの用途のアイコンが用意されています。 アイコンを選択するには、**アイコン** ボタンをクリックし、表示されたリストからアイコンを選びます:

![アイコン選択](img/icon-library.png)

:::info

統一性を持たせるため、少なくとも 1つのフィールドに対してアイコンが定義されている場合、アイコン未定義のフィールドに対して **デフォルトアイコン** が生成されます。

:::

アプリ内でアイコンを表示したくない場合には、アイコンエリアを空のままにします。


### カスタムのアイコンを追加する

独自のアイコンをライブラリーに追加し、プロジェクト内で選択することができます。 使用するアイコンフォーマットおよびサイズに制約はありません (ただし透過性を保持するため、SVG または PNG が推奨されます)。 プロジェクトエディター上でカスタムアイコンが見分けられるように、色を付けておくと良いかもしれません。

カスタムアイコンとして使用できるアイコンセットの一例です:

<div className="center-button">
<a
  className="button button--primary"
  href="https://github.com/4d-go-mobile/tutorial-CustomIcons/releases/latest/download/tutorial-CustomIcons.zip">
  カスタムアイコンをダウンロードする
</a>
</div>

カスタムのアイコンをプロジェクトに追加するには:

1. 以下の場所に `icons` フォルダーを作成します。

```
<my4DProjetFolder>/Resources/Mobile/medias
```

:::note

`medias` フォルダーがない場合は、それも作成します。

:::

2. `icons` フォルダー内にカスタマイズしたアイコンをドラッグ＆ドロップします。

![アイコン選択2](img/mobile-folder-custom-icons.png)

これで、追加アイコンがプロジェクトにおいて選択できるようになりました。これらは、標準アイコンのあとに表示されます。




## 短いラベル/長いラベル

公開されているテーブル・フィールド・リレーションに対して、カスタムのラベルが定義できます。 これらのラベルは、表示の最適化やタブバーが混雑するのを避けるため、テンプレートの表示スペースに応じて自動的に使用されます。

:::info

リレーションフィールドについては、ラベルは **リレーション** ボタンの左に表示され、このボタンを押すとリレートテーブルを開くことができます。

:::

- 短いラベルは 10文字以下です。
- 長いラベルは 25文字以下です。
- ここでは、ストラクチャーの名前には使用できない、"/" や "@"、半角スペースなどの特殊文字も使用することができます。

デフォルトでは、モバイルエディターはストラクチャー内で定義されているテーブル名とフィールド名をアプリ内で使用し、短いラベルと長いラベルの両方において同じ文字列が使用されます。


## フォーマット

このプロパティで、アプリにおけるデータ表示のフォーマットが設定できます。 フィールドのフォーマット列をクリックするとメニューが表示されます。

![フォーマット](img/formats-menu.png)

選択可能なビルトインフォーマットは、フィールドタイプによります:

| フィールドの型  | フォーマット                                |
| -------- | ------------------------------------- |
| **テキスト** | テキスト                                  |
| **日付**   | 日付、短い日付、長い日付、完全な日付                    |
| **時間**   | 時間、短い時間、経過時間、整数                       |
| **画像**   | 画像                                    |
| **ブール**  | "いいえ" または "はい"、 "False" または "True"    |
| **整数**   | 整数、小数、実数、パーセント、助数詞、通貨 $、通貨 €、通貨 ¥、漢数字 |

## データフォーマッター

データフォーマッターを使って、データベースのデータ型に対応するモバイル側の表示を指定することができます。 たとえば、メール用、請求書番号用などを定義することが可能です。 データフォーマッターは、スマートなインターフェースを作成するコードを呼び出すこともできます。 たとえば、電話番号にデータフォーマッターを指定して、モバイルアプリ上でユーザーがその番号をタッチするとアクションメニューが開くようにできます (相手に電話をかけたり、連絡先に保存したりするためなど)。

データフォーマッターをモバイルプロジェクトに追加するには:

- [**go-mobile フォーマッター github リポジトリ**](https://4d-go-mobile.github.io/gallery/#/type/formatter) からフォーマッターをダウンロードしてインストールする

データフォーマッターをインストールするには、フォーマッターのフォルダーを 4Dプロジェクトフォルダーの`/Resources/Mobile/formatters` フォルダーにドロップします。 インストールした後は、データフォーマットはビルトインフォーマットと同じように、フォーマットメニューから選択することが可能です。

- 独自のデータフォーマッターを作成する

フォーマッターには 2種類あります:

- コード付きの **動的データフォーマッター** (上記フォーマッター Github リポジトリでは OSロゴ (![OS logo](img/os-logo.png)) で識別されます)。
- コードのない **静的データフォーマッター**。

フォーマッターは常に、次の要素を含む **manifest.json** ファイルと関連付けられている必要があります:

- **name**: フォーマッターの名前 (文字列)。 例：phone, objectFormatter, など。
- **type**: 使用したい 4Dフォーマット型。 例: Text, Integer, など。
- **binding**:
  - 静的フォーマッターの場合: 文字列の場合は `localizedText` 、画像の場合は `imageNamed`。
  - 動的フォーマッターの場合: コードをアプリにリンクさせる文字列
- **choiceList**: 選択された型に対応する値 (静的フォーマッタのみ)。
- **assets**: ダークモードサポート、tintable (彩色可能)、整数から画像へ、テキストから画像へ、など、静的フォーマッターのみに使える追加のフォーマットデータ。
- **target**: フォーマッターがサポートするプラットフォーム (動的フォーマッタのみ)。

静的フォーマッターの manifest ファイルの例:

```json
{
   "name": "integerToImage",

   "type": ["integer"],

   "binding": "imageNamed",

   "choiceList": {"0":"todo.png","1":"inprogress.png","2":"pending.png","3":"done.png"},

}
```

:::note for Android

特定のパーミッションをアプリに追加するには、以下のように `capabilities` ブロックを使用します:

 ```4d
 "capabilities" : {
        "android" : [ "android.permission.WRITE_EXTERNAL_STORAGE" ]
```

:::

:::tip tutorial

参照:
- 静的データフォーマッターの定義方法については、[**こちらのチュートリアル**](../tutorials/data-formatter/create-static-data-formatter) を参照ください。
- Swift の動的フォーマッターの定義方法については、[**こちらのチュートリアル**](../tutorials/data-formatter/create-swift-formatter) を参照ください。
- Kotlin の動的フォーマッターの定義方法については、[**こちらのチュートリアル**](../tutorials/data-formatter/create-kotlin-formatter) を参照ください。

:::


## タイトル

このプロパティは、リレーションフィールドにおいてのみ利用可能です。 ここで定義されたタイトルは、リレーションを使用したときに遷移先のビューのトップに表示されます。

リレートフィールドの値をタイトル内に含めるには、`%` 文字を使用して指定します。 たとえば、`Employee.employer` リレートフィールドのタイトルに、リレート元である `Employee` の Name フィールドを表示するには、以下のように書きます:

```
%Name%の雇用主
```

:::tip tutorial

タイトルの定義方法については、それを説明した [**チュートリアル**](../tutorials/relations/one-to-many-title-definition) を参照ください。

:::
