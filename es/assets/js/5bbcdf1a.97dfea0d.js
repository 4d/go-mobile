"use strict";(self.webpackChunkgo_mobile=self.webpackChunkgo_mobile||[]).push([[2303],{17834:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>l,contentTitle:()=>s,default:()=>m,frontMatter:()=>i,metadata:()=>r,toc:()=>p});var t=n(87462),o=(n(67294),n(3905));const i={id:"session-management",title:"Gesti\xf3n de sesi\xf3n"},s=void 0,r={unversionedId:"special-features/session-management",id:"version-19-R8/special-features/session-management",title:"Gesti\xf3n de sesi\xf3n",description:"4D for iOS y 4D for Android le permiten gestionar las sesiones de los usuarios, para que pueda obtener informaci\xf3n sobre los usuarios conectados y mejorar su experiencia en su aplicaci\xf3n m\xf3vil.",source:"@site/i18n/es/docusaurus-plugin-content-docs/version-19-R8/special-features/session-management.md",sourceDirName:"special-features",slug:"/special-features/session-management",permalink:"/go-mobile/es/docs/19-R8/special-features/session-management",draft:!1,editUrl:"https://github.com/4d/go-mobile/edit/main/versioned_docs/version-19-R8/special-features/session-management.md",tags:[],version:"19-R8",frontMatter:{id:"session-management",title:"Gesti\xf3n de sesi\xf3n"},sidebar:"docs",previous:{title:"Panel Generaci\xf3n",permalink:"/go-mobile/es/docs/19-R8/project-definition/build-panel"},next:{title:"Push notifications",permalink:"/go-mobile/es/docs/19-R8/special-features/push-notification"}},l={},p=[{value:"Archivo de sesi\xf3n",id:"archivo-de-sesi\xf3n",level:2},{value:"Objeto Session",id:"objeto-session",level:2},{value:"Componente Mobile Session Management",id:"componente-mobile-session-management",level:2}],c={toc:p};function m(e){let{components:a,...i}=e;return(0,o.kt)("wrapper",(0,t.Z)({},c,i,{components:a,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"4D for iOS y 4D for Android le permiten gestionar las sesiones de los usuarios, para que pueda obtener informaci\xf3n sobre los usuarios conectados y mejorar su experiencia en su aplicaci\xf3n m\xf3vil."),(0,o.kt)("h2",{id:"archivo-de-sesi\xf3n"},"Archivo de sesi\xf3n"),(0,o.kt)("p",null,"Cuando un usuario abre la aplicaci\xf3n por primera vez, se crea un archivo de sesi\xf3n autom\xe1ticamente y se almacena junto al archivo de datos actual en la carpeta MobileApps."),(0,o.kt)("p",null,"Los archivos de sesi\xf3n est\xe1n organizados y agrupados por carpeta de aplicaci\xf3n. Los TeamID y Bundle ID de la aplicaci\xf3n se concatenan para crear los nombres de las carpetas de la aplicaci\xf3n."),(0,o.kt)("p",null,"Este es un ejemplo de un archivo de sesi\xf3n generado para 4D for iOS:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n"application":{\n  "id":"com.contactApp.Contact",\n  "name":"Contact",\n  "version":"1.0.0"\n},\n"team":{\n  "id":"UTT7VDX8W5"\n},\n"language":{\n  "id":"en_US",\n  "code":"en",\n  "region":"US"\n},\n"email":"",\n"device":{\n  "description":"iPhone X",\n  "version":"11.3",\n  "id":"0DC5132E-1EF4-407C-A832-5FE33D818AF3",\n  "simulator":true\n},\n"send":"link",\n"session":{\n  "id":"7023d9205074199d1c16fc00d24354e778137675",\n  "ip":"::ffff:192.168.5.4"\n},\n"status":"accepted",\n"token":"eyJhcHBOYW1lSUQiOiJjb20uY29udGFjdEFwcC5Db250YWN0IiwiaWQiOiI3MDIzZDkyMDUwNzQxOTlkMWMxNmZjMDBkMjQzNTRlNzc4MTM3Njc1IiwidGVhbUlEIjoiVVRUN1ZEWDhXNSJ9"\n}\n\n')),(0,o.kt)("p",null,'Por defecto, el "estado" se establece autom\xe1ticamente en "aceptado" si la sesi\xf3n es validada por el m\xe9todo base',(0,o.kt)("a",{parentName:"p",href:"/go-mobile/es/docs/19-R8/4d/on-mobile-app-authentication"},"On Mobile App Authentication")," (",(0,o.kt)("inlineCode",{parentName:"p"},"$result.success")," definido en ",(0,o.kt)("inlineCode",{parentName:"p"},"True"),"). Si desea la posibilidad de validar manualmente el primer inicio de sesi\xf3n para cada sesi\xf3n usuario, a\xf1ada ",(0,o.kt)("inlineCode",{parentName:"p"},"$result.verify:=True")," al objeto devuelto por el m\xe9todo base ",(0,o.kt)("a",{parentName:"p",href:"/go-mobile/es/docs/19-R8/4d/on-mobile-app-authentication"},"On Mobile App Authentication"),'. Cambiar\xe1 el estado por defecto "accepted" a "pending" en el archivo de la sesi\xf3n. For more information, see ',(0,o.kt)("a",{parentName:"p",href:"/go-mobile/es/docs/19-R8/tutorials/login-forms/email#without-the-component"},"this example"),"."),(0,o.kt)("h2",{id:"objeto-session"},"Objeto Session"),(0,o.kt)("p",null,"Las sesiones m\xf3viles pueden aprovechar las poderosas ",(0,o.kt)("a",{parentName:"p",href:"https://developer.4d.com/docs/WebServer/sessions.html"},"sesiones de usuario 4D"),", cuando est\xe1n activadas en el servidor. En este caso, la informaci\xf3n almacenada en el ",(0,o.kt)("a",{parentName:"p",href:"#session-file"},"archivo de sesi\xf3n m\xf3vil")," se utiliza para llenar el ",(0,o.kt)("a",{parentName:"p",href:"https://developer.4d.com/docs/API/SessionClass.html"},"objeto Session")," en el servidor, de modo que se podr\xeda compartir un carrito para el mismo usuario entre sus sesiones web y m\xf3vil, por ejemplo."),(0,o.kt)("p",null,"En el proyecto m\xf3vil, el ",(0,o.kt)("a",{parentName:"p",href:"https://developer.4d.com/docs/API/SessionClass.html"},"objeto Session")," est\xe1 disponible autom\xe1ticamente desde:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"el m\xe9todo base ",(0,o.kt)("a",{parentName:"li",href:"/go-mobile/es/docs/19-R8/4d/on-mobile-app-authentication"},"On Mobile App Authentication")),(0,o.kt)("li",{parentName:"ul"},"el m\xe9todo base ",(0,o.kt)("a",{parentName:"li",href:"/go-mobile/es/docs/19-R8/4d/on-mobile-app-action"},"On Mobile App Action")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/mesopelagique/form-detail-WebArea"},"webareas")," en sus formularios.")),(0,o.kt)("p",null,"Con las sesiones de usuario, se puede acceder y mostrar los datos del usuario a trav\xe9s de ",(0,o.kt)("a",{parentName:"p",href:"https://developer.4d.com/docs/Tags/tags.html"},"etiquetas 4D")," en ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/mesopelagique/form-detail-WebArea"},"webareas"),". Por ejemplo, en un formulario page.shtml, puede escribir:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},"<html><body><h1>Utilice la siguiente direcci\xf3n: \x3c!--#4DTEXT Sesi\xf3n.info.m\xf3vil.email--\x3e </h1></body></html>\n")),(0,o.kt)("h2",{id:"componente-mobile-session-management"},"Componente Mobile Session Management"),(0,o.kt)("p",null,"Las sesiones pueden ser gestionadas por el componente ",(0,o.kt)("strong",{parentName:"p"},"Gesti\xf3n de sesiones m\xf3viles"),":"),(0,o.kt)("div",null,(0,o.kt)("a",{className:"button button--primary",href:"https://github.com/4d/Mobile-Session-Management/releases/latest"},"Componente Mobile Session Management")),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Descargue y descomprima el archivo zip"),(0,o.kt)("li",{parentName:"ol"},"Vaya al archivo Generar / Componentes y obtenga el archivo MOBILE SESSION MANAGEMENT.4dbase"),(0,o.kt)("li",{parentName:"ol"},"Cree una carpeta ",(0,o.kt)("strong",{parentName:"li"},"Componentes")," junto al proyecto 4D con los datos de la aplicaci\xf3n."),(0,o.kt)("li",{parentName:"ol"},"Coloque el componente ",(0,o.kt)("strong",{parentName:"li"},"MOBILE SESSION MANAGEMENT")," en la carpeta ",(0,o.kt)("strong",{parentName:"li"},"Componentes")," reci\xe9n creada."),(0,o.kt)("li",{parentName:"ol"},"Reinicie 4D."),(0,o.kt)("li",{parentName:"ol"},"Haga clic en el bot\xf3n ",(0,o.kt)("strong",{parentName:"li"},"Ejecutar")," de la barra de herramientas"),(0,o.kt)("li",{parentName:"ol"},"En el explorador de m\xe9todos 4D, seleccione el m\xe9todo ",(0,o.kt)("strong",{parentName:"li"},"MOBILE SESSION MANAGEMENT")," y haga clic en el bot\xf3n ",(0,o.kt)("strong",{parentName:"li"},"Ejecutar"),"."),(0,o.kt)("li",{parentName:"ol"},"La ventana de aplicaciones aparecer\xe1 mostrando todas sus aplicaciones:")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Session",src:n(93969).Z,width:"882",height:"368"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Haga clic derecho en una sesi\xf3n para mostrar el archivo sesi\xf3n en el Finder o elim\xednelo."),(0,o.kt)("li",{parentName:"ul"},"Puede cambiar y definir el estado de la sesi\xf3n para cada dispositivo: aceptado o pendiente")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Session selected",src:n(33346).Z,width:"882",height:"368"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"El bot\xf3n ",(0,o.kt)("strong",{parentName:"li"},"Push")," actualizar\xe1 la sesi\xf3n en la memoria."),(0,o.kt)("li",{parentName:"ul"},"El bot\xf3n ",(0,o.kt)("strong",{parentName:"li"},"Refresh")," actualiza la lista de sesiones.")))}m.isMDXComponent=!0},3905:(e,a,n)=>{n.d(a,{Zo:()=>c,kt:()=>u});var t=n(67294);function o(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function i(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function s(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?i(Object(n),!0).forEach((function(a){o(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function r(e,a){if(null==e)return{};var n,t,o=function(e,a){if(null==e)return{};var n,t,o={},i=Object.keys(e);for(t=0;t<i.length;t++)n=i[t],a.indexOf(n)>=0||(o[n]=e[n]);return o}(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)n=i[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=t.createContext({}),p=function(e){var a=t.useContext(l),n=a;return e&&(n="function"==typeof e?e(a):s(s({},a),e)),n},c=function(e){var a=p(e.components);return t.createElement(l.Provider,{value:a},e.children)},m={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},d=t.forwardRef((function(e,a){var n=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,c=r(e,["components","mdxType","originalType","parentName"]),d=p(n),u=o,b=d["".concat(l,".").concat(u)]||d[u]||m[u]||i;return n?t.createElement(b,s(s({ref:a},c),{},{components:n})):t.createElement(b,s({ref:a},c))}));function u(e,a){var n=arguments,o=a&&a.mdxType;if("string"==typeof e||o){var i=n.length,s=new Array(i);s[0]=d;var r={};for(var l in a)hasOwnProperty.call(a,l)&&(r[l]=a[l]);r.originalType=e,r.mdxType="string"==typeof e?e:o,s[1]=r;for(var p=2;p<i;p++)s[p]=n[p];return t.createElement.apply(null,s)}return t.createElement.apply(null,n)}d.displayName="MDXCreateElement"},33346:(e,a,n)=>{n.d(a,{Z:()=>t});const t=n.p+"assets/images/session-management-selected-3cb4acb42fad795985f4399d23f89e40.png"},93969:(e,a,n)=>{n.d(a,{Z:()=>t});const t=n.p+"assets/images/session-management-7e6c99c452a30403a179944f2b596999.png"}}]);