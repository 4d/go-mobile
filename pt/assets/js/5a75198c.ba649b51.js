(self.webpackChunkgo_mobile=self.webpackChunkgo_mobile||[]).push([[6612],{3905:function(e,a,t){"use strict";t.d(a,{Zo:function(){return d},kt:function(){return m}});var o=t(67294);function i(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function n(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,o)}return t}function r(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?n(Object(t),!0).forEach((function(a){i(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function s(e,a){if(null==e)return{};var t,o,i=function(e,a){if(null==e)return{};var t,o,i={},n=Object.keys(e);for(o=0;o<n.length;o++)t=n[o],a.indexOf(t)>=0||(i[t]=e[t]);return i}(e,a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)t=n[o],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var l=o.createContext({}),p=function(e){var a=o.useContext(l),t=a;return e&&(t="function"==typeof e?e(a):r(r({},a),e)),t},d=function(e){var a=p(e.components);return o.createElement(l.Provider,{value:a},e.children)},c={inlineCode:"code",wrapper:function(e){var a=e.children;return o.createElement(o.Fragment,{},a)}},u=o.forwardRef((function(e,a){var t=e.components,i=e.mdxType,n=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=p(t),m=i,k=u["".concat(l,".").concat(m)]||u[m]||c[m]||n;return t?o.createElement(k,r(r({ref:a},d),{},{components:t})):o.createElement(k,r({ref:a},d))}));function m(e,a){var t=arguments,i=a&&a.mdxType;if("string"==typeof e||i){var n=t.length,r=new Array(n);r[0]=u;var s={};for(var l in a)hasOwnProperty.call(a,l)&&(s[l]=a[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,r[1]=s;for(var p=2;p<n;p++)r[p]=t[p];return o.createElement.apply(null,r)}return o.createElement.apply(null,t)}u.displayName="MDXCreateElement"},72321:function(e,a,t){"use strict";t.r(a),t.d(a,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return p},toc:function(){return d},default:function(){return u}});var o=t(22122),i=t(19756),n=(t(67294),t(3905)),r=["components"],s={id:"adding-actions-template",title:"Adicionar a\xe7\xf5es em modelos"},l=void 0,p={unversionedId:"tutorials/actions/adding-actions-template",id:"version-19-R2/tutorials/actions/adding-actions-template",isDocsHomePage:!1,title:"Adicionar a\xe7\xf5es em modelos",description:"OBJETIVOS",source:"@site/i18n/pt/docusaurus-plugin-content-docs/version-19-R2/tutorials/actions/adding-actions-template.md",sourceDirName:"tutorials/actions",slug:"/tutorials/actions/adding-actions-template",permalink:"/go-mobile/pt/docs/tutorials/actions/adding-actions-template",editUrl:"https://github.com/4d/go-mobile/edit/main/versioned_docs/version-19-R2/tutorials/actions/adding-actions-template.md",version:"19-R2",frontMatter:{id:"adding-actions-template",title:"Adicionar a\xe7\xf5es em modelos"},sidebar:"version-19-R2/tutorials",previous:{title:"Definir sua primeira a\xe7\xe3o",permalink:"/go-mobile/pt/docs/tutorials/actions/define-first-action"},next:{title:"Usar par\xe2metros de a\xe7\xe3o",permalink:"/go-mobile/pt/docs/tutorials/actions/using-action-parameters"}},d=[{value:"PASSO 1. Baixe o Starter Project",id:"passo-1-baixe-o-starter-project",children:[]},{value:"PASSO 2. Adicione modelos personalizados para Projeto 4D for iOS",id:"passo-2-adicione-modelos-personalizados-para-projeto-4d-for-ios",children:[]},{value:"PASSO 3. Adicione a\xe7\xf5es em formul\xe1rios Lista",id:"passo-3-adicione-a\xe7\xf5es-em-formul\xe1rios-lista",children:[{value:"Adicione a\xe7\xf5es para o modelo personalizado TasksList",id:"adicione-a\xe7\xf5es-para-o-modelo-personalizado-taskslist",children:[]},{value:"Adicionar a\xe7\xf5es para o modelo personalizado TasksCollection",id:"adicionar-a\xe7\xf5es-para-o-modelo-personalizado-taskscollection",children:[]}]},{value:"PASSO 4. Adicionar as a\xe7\xf5es nos formul\xe1rios Detalhados",id:"passo-4-adicionar-as-a\xe7\xf5es-nos-formul\xe1rios-detalhados",children:[]}],c={toc:d};function u(e){var a=e.components,s=(0,i.Z)(e,r);return(0,n.kt)("wrapper",(0,o.Z)({},c,s,{components:a,mdxType:"MDXLayout"}),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("strong",{parentName:"p"},"OBJETIVOS")),(0,n.kt)("p",{parentName:"blockquote"},"Adicionar a\xe7\xf5es para modelos de formul\xe1rios de Lista e formul\xe1rios detalhados.")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("strong",{parentName:"p"},"PR\xc9-REQUISITOS")),(0,n.kt)("p",{parentName:"blockquote"},"Clique em",(0,n.kt)("inlineCode",{parentName:"p"},"[here](prerequisites.html)")," para ver o que necessita para  come\xe7ar")),(0,n.kt)("p",null,"Neste tutorial, veremos como \xe9 f\xe1cil ",(0,n.kt)("strong",{parentName:"p"},"agregar a\xe7\xf5es a planilhas personalizadas"),"."),(0,n.kt)("h2",{id:"passo-1-baixe-o-starter-project"},"PASSO 1. Baixe o Starter Project"),(0,n.kt)("p",null,"Para come\xe7ar, baixe o ",(0,n.kt)("strong",{parentName:"p"},"Starter Project"),", que inclui:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"2 modelos personalizados formul\xe1rios Lista (TaskList e TasksCollection)"),(0,n.kt)("li",{parentName:"ul"},"1 modelo personalizado Formul\xe1rio Detalhado (TasksDetails)"),(0,n.kt)("li",{parentName:"ul"},"um arquivo Tasks.4dbase")),(0,n.kt)("div",{className:"center-button"},(0,n.kt)("a",{class:"button button--primary",href:"https://github.com/4d-go-mobile/tutorial-AddingActionToTemplates/archive/1dc5aecfbea62a9999d571cb1a956f1ef6983111.zip"},"Baixar")),(0,n.kt)("h2",{id:"passo-2-adicione-modelos-personalizados-para-projeto-4d-for-ios"},"PASSO 2. Adicione modelos personalizados para Projeto 4D for iOS"),(0,n.kt)("p",null,"Primeiro, solte:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"as pastas de planilhas ",(0,n.kt)("strong",{parentName:"li"},"TasksList")," e ",(0,n.kt)("strong",{parentName:"li"},"TasksCollection")," na pasta ",(0,n.kt)("em",{parentName:"li"},"Tasks.4dbase/Resources/Mobile/form/list"))),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Listform templates",src:t(92801).Z})),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"as pastas do modelo ",(0,n.kt)("strong",{parentName:"li"},"TasksDetail")," en ",(0,n.kt)("em",{parentName:"li"},"Tasks.4dbase/Resources/Mobile/form/detail "))),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Detailform template",src:t(40480).Z})),(0,n.kt)("h2",{id:"passo-3-adicione-a\xe7\xf5es-em-formul\xe1rios-lista"},"PASSO 3. Adicione a\xe7\xf5es em formul\xe1rios Lista"),(0,n.kt)("p",null,"H\xe1 dois tipos de a\xe7\xf5es dispon\xedveis:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"a\xe7\xf5es de Tabela"),(0,n.kt)("li",{parentName:"ul"},"a\xe7\xf5es de entidade")),(0,n.kt)("p",null,"Primeiro vamos abrir o arquivo ",(0,n.kt)("inlineCode",{parentName:"p"},"list/TasksList/Sources/Forms/Tables/___TABLE___/___TABLE___ListForm.. Storyboard")," ."),(0,n.kt)("h3",{id:"adicione-a\xe7\xf5es-para-o-modelo-personalizado-taskslist"},"Adicione a\xe7\xf5es para o modelo personalizado TasksList"),(0,n.kt)("h4",{id:"a-a-a-a-adicionar-uma-tag-de-a\xe7\xe3o-de-tabela"},"A. A. A. A. Adicionar uma Tag de a\xe7\xe3o de tabela"),(0,n.kt)("p",null,"Selecione o ",(0,n.kt)("strong",{parentName:"p"},"List form Controller")," e adicione esta linha em ",(0,n.kt)("strong",{parentName:"p"},"User Defined Runtime Attributes")," (Identity inspector):"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Key Path: ",(0,n.kt)("inlineCode",{parentName:"li"},"actions")),(0,n.kt)("li",{parentName:"ul"},"Type: ",(0,n.kt)("inlineCode",{parentName:"li"},"String")),(0,n.kt)("li",{parentName:"ul"},"Value: ",(0,n.kt)("inlineCode",{parentName:"li"},"___TABLE_ACTIONS___"))),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Add table action tag",src:t(35711).Z})),(0,n.kt)("h4",{id:"b-b-b-b-adicionar-uma-tag-de-a\xe7\xe3o-de-entidade"},"B. B. B. B. Adicionar uma Tag de a\xe7\xe3o de Entidade"),(0,n.kt)("p",null,"Selecione a vista Animatable Table e adicione esta linha em ",(0,n.kt)("strong",{parentName:"p"},"User Defined Runtime Attributes")," (Identity inspector):"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Key Path: ",(0,n.kt)("inlineCode",{parentName:"li"},"actions")),(0,n.kt)("li",{parentName:"ul"},"Type: ",(0,n.kt)("inlineCode",{parentName:"li"},"String")),(0,n.kt)("li",{parentName:"ul"},"Value: ",(0,n.kt)("inlineCode",{parentName:"li"},"___ENTITY_ACTIONS___"))),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Add entity action tag",src:t(45508).Z})),(0,n.kt)("p",null,"Seu modelo personalizado est\xe1 pronto para exibir as a\xe7\xf5es!"),(0,n.kt)("p",null,"Pode selecionar o modelo personalizado TaskList na ",(0,n.kt)("strong",{parentName:"p"},"se\xe7\xe3o Formul\xe1rios")," e agregar os seguintes campos:"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Taskslist Forms section",src:t(99374).Z})),(0,n.kt)("p",null,"Agora vamos agregar as etiquetas de a\xe7\xe3o ao modelo personalizado TasksCollection"),(0,n.kt)("h3",{id:"adicionar-a\xe7\xf5es-para-o-modelo-personalizado-taskscollection"},"Adicionar a\xe7\xf5es para o modelo personalizado TasksCollection"),(0,n.kt)("p",null,"Para fazer isso, abra o arquivo ",(0,n.kt)("inlineCode",{parentName:"p"},"list/TasksCollection/Sources/Forms/Tables/___TABLE___/___TABLE___ListForm. Storyboard"),"."),(0,n.kt)("h4",{id:"a-a-a-a-adicionar-uma-tag-de-a\xe7\xe3o-de-tabela-1"},"A. A. A. A. Adicionar uma Tag de a\xe7\xe3o de tabela"),(0,n.kt)("p",null,"O processo \xe9 similar ao processo do modelo personalizado TasksList"),(0,n.kt)("p",null,"Selecione o ",(0,n.kt)("strong",{parentName:"p"},"List form Controller")," e adicione esta linha em ",(0,n.kt)("strong",{parentName:"p"},"User Defined Runtime Attributes")," (Identity inspector):"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Key Path: ",(0,n.kt)("inlineCode",{parentName:"li"},"actions")),(0,n.kt)("li",{parentName:"ul"},"Type: ",(0,n.kt)("inlineCode",{parentName:"li"},"String")),(0,n.kt)("li",{parentName:"ul"},"Value: ",(0,n.kt)("inlineCode",{parentName:"li"},"___TABLE_ACTIONS___"))),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Add collection table action tag",src:t(82132).Z})),(0,n.kt)("h4",{id:"b-b-b-b-adicionar-uma-tag-de-a\xe7\xe3o-de-entidade-1"},"B. B. B. B. Adicionar uma Tag de a\xe7\xe3o de Entidade"),(0,n.kt)("p",null,"Para as entidades, a forma de mostrar as a\xe7\xf5es \xe9 bastante diferente de TableView: a a\xe7\xe3o de deslizar n\xe3o est\xe1 adaptada a CollectionViews."),(0,n.kt)("p",null,"Para as vistas de cole\xe7\xe3o, a melhor maneira de mostrar as a\xe7\xf5es \xe9 utilizar um gesto de ",(0,n.kt)("strong",{parentName:"p"},"press\xe3o longo")," nas c\xe9lulas com as quais queira interagir."),(0,n.kt)("p",null,"Para isso, selecione a c\xe9lula collectionView e agregue esta linha em ",(0,n.kt)("strong",{parentName:"p"},"User Defined Runtime Attributes")," (Identity inspector):"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Key Path: ",(0,n.kt)("inlineCode",{parentName:"li"},"actions")),(0,n.kt)("li",{parentName:"ul"},"Type: ",(0,n.kt)("inlineCode",{parentName:"li"},"String")),(0,n.kt)("li",{parentName:"ul"},"Value: ",(0,n.kt)("inlineCode",{parentName:"li"},"___ENTITY_ACTIONS___"))),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Add collection entity action tag",src:t(90033).Z})),(0,n.kt)("p",null,"Para otimizar a intera\xe7\xe3o, pode agregar um efeito escalar com uma haptic feedback (que permite modular sutilmente vibra\xe7\xf5es em games) agregando a linha abaixo em ",(0,n.kt)("strong",{parentName:"p"},"User Defined Runtime Attributes")," (Identity inspector):"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Key Path: ",(0,n.kt)("inlineCode",{parentName:"li"},"touch.zoomScale")),(0,n.kt)("li",{parentName:"ul"},"Type: ",(0,n.kt)("inlineCode",{parentName:"li"},"Number")),(0,n.kt)("li",{parentName:"ul"},"Valor: ",(0,n.kt)("inlineCode",{parentName:"li"},"0,96")," (adapte a rela\xe7\xe3o de escala segundo o resultado que quiser obter)")),(0,n.kt)("p",null,"Pode selecionar o modelo personalizado TasksCollection na ",(0,n.kt)("strong",{parentName:"p"},"se\xe7\xe3o Formul\xe1rios")," e adicionar os campos abaixo:"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"TasksCollection Forms section",src:t(30325).Z})),(0,n.kt)("h2",{id:"passo-4-adicionar-as-a\xe7\xf5es-nos-formul\xe1rios-detalhados"},"PASSO 4. Adicionar as a\xe7\xf5es nos formul\xe1rios Detalhados"),(0,n.kt)("p",null,"Nos formul\xe1rios detalhados, pode utilizar o ",(0,n.kt)("strong",{parentName:"p"},"bot\xe3o gen\xe9rico")," na barra de navega\xe7\xe3o ou ",(0,n.kt)("strong",{parentName:"p"},"criar facilmente seu pr\xf3prio bot\xe3o de a\xe7\xe3o personalizado"),". Em ambos os casos voc\xea tem que adicionar tags."),(0,n.kt)("p",null,"Para o bot\xe3o gen\xe9rico integrado na barra de navega\xe7\xe3o, selecione o Controlador e adicione esta linha em ",(0,n.kt)("strong",{parentName:"p"},"User Defined Runtime Attributes")," (Identity inspector):"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Key Path: ",(0,n.kt)("inlineCode",{parentName:"li"},"actions")),(0,n.kt)("li",{parentName:"ul"},"Type: ",(0,n.kt)("inlineCode",{parentName:"li"},"String")),(0,n.kt)("li",{parentName:"ul"},"Value: ",(0,n.kt)("inlineCode",{parentName:"li"},"___ENTITY_ACTIONS___"))),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Add detailform entity action tag",src:t(66614).Z})),(0,n.kt)("p",null,"Em nosso tutorial, queremos construir nosso pr\xf3prio bot\xe3o gen\xe9rico. Para isso, abra o arquivo Storyboard ",(0,n.kt)("inlineCode",{parentName:"p"},"detail/TasksDetail/Sources/Forms/Tables/___TABLE___/___TABLE___DetailsForm.storyboard"),"."),(0,n.kt)("p",null,"Abra o arquivo, selecione o bot\xe3o na parte inferior direita e agregue esta linha em ",(0,n.kt)("strong",{parentName:"p"},"User Defined Runtime Attributes")," (Identity inspector):"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Key Path: ",(0,n.kt)("inlineCode",{parentName:"li"},"actions")),(0,n.kt)("li",{parentName:"ul"},"Type: ",(0,n.kt)("inlineCode",{parentName:"li"},"String")),(0,n.kt)("li",{parentName:"ul"},"Value: ",(0,n.kt)("inlineCode",{parentName:"li"},"___ENTITY_ACTIONS___"))),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Add detailform entity action tag custom action button",src:t(55994).Z})),(0,n.kt)("p",null,"Como pode ver, alguns bot\xf5es visuais est\xe3o faltando no arquivo Storyboard. Pode encontrar estas imagens na planilha",(0,n.kt)("strong",{parentName:"p"},"carpeta Resources"),". Ser\xe3o inclu\xeddas no projeto durante o processo de build."),(0,n.kt)("p",null,"Por exemplo, para  ",(0,n.kt)("strong",{parentName:"p"},"moreButton.imageset"),":"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Template ressources",src:t(15613).Z})),(0,n.kt)("p",null,"Pode selecionar o modelo personalizado TasksDetail na ",(0,n.kt)("strong",{parentName:"p"},"se\xe7\xe3o Formul\xe1rios")," e agregar os campos abaixo:"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"TasksDetail Forms section",src:t(66765).Z})),(0,n.kt)("p",null,"Parab\xe9ns, sua aplica\xe7\xe3o iOS Tasks agora est\xe1 completa e inclui a\xe7\xf5es nos formul\xe1rios Lista e detalhados."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Template ressources",src:t(25532).Z})),(0,n.kt)("p",null,"Baixe o projeto terminado:"),(0,n.kt)("div",{className:"center-button"},(0,n.kt)("a",{className:"button button--primary",href:"https://github.com/4d-go-mobile/tutorial-AddingActionToTemplates/releases/latest/download/tutorial-AddingActionToTemplates.zip"},"Baixar")))}u.isMDXComponent=!0},90033:function(e,a,t){"use strict";a.Z=t.p+"assets/images/Add-collection-entity-tag-taskslist-3f04e0602db0b304b72fb6ccfcb19b4e.png"},82132:function(e,a,t){"use strict";a.Z=t.p+"assets/images/Add-collection-table-tag-taskslist-36f6728e233cbadd86070781b08e978b.png"},45508:function(e,a,t){"use strict";a.Z=t.p+"assets/images/Add-entity-tag-taskslist-f451a9760f86a118e99afc27fc80edf3.png"},35711:function(e,a,t){"use strict";a.Z=t.p+"assets/images/Add-table-tag-taskslist-8d2cbcb005e17c5e11ebc6fad5c21655.png"},55994:function(e,a,t){"use strict";a.Z=t.p+"assets/images/Detail-form-action-custom-action-Button-dce7734160980e4471815a31dde1720e.png"},66614:function(e,a,t){"use strict";a.Z=t.p+"assets/images/Detail-form-action-navigationBar-7ff5b86ac2040d091e2bc18a51d41c62.png"},40480:function(e,a,t){"use strict";a.Z=t.p+"assets/images/Detailform-template-12ade6ee5a4eb693cbf014faf59c56a5.png"},25532:function(e,a,t){"use strict";a.Z=t.p+"assets/images/ListForm-entity-action-tableview-c4ca8838892967fd5df82c8271e4090b.png"},92801:function(e,a,t){"use strict";a.Z=t.p+"assets/images/Listform-templates-09ed1c5a3ff901a807ff3ead04d0ada7.png"},15613:function(e,a,t){"use strict";a.Z=t.p+"assets/images/Template-Ressources-db10d9e26011ee4ab1652752eedb6b32.png"},66765:function(e,a,t){"use strict";a.Z=t.p+"assets/images/detailform-forms-section-8159e555c94e2e4d36da5d27329ec148.png"},30325:function(e,a,t){"use strict";a.Z=t.p+"assets/images/listform-taskscollection-forms-section-09fa057f109a221cd927c4c4496e308c.png"},99374:function(e,a,t){"use strict";a.Z=t.p+"assets/images/listform-taskslist-forms-section-c3786fcf5144780d2bc741888fd62dc1.png"}}]);